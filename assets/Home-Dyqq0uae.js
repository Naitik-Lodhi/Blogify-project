import{u as S,a as F,b as G,c as b,d as k,r as B,e as A,f as I,j as s,B as d,T as m,g as R}from"./index-Ca6Dd8-S.js";import{G as p,B as O}from"./BlogCard-CzrCWd-F.js";import{B as P}from"./BlogModal-CR9MhSNg.js";import"./MenuItem-XVGAmUrk.js";const c=6,z=()=>{const{query:t}=S(),{view:r}=F(),{user:i}=G(),{filter:o}=b(),{showMessage:u}=k(),[g,x]=B.useState(c),{openModal:C,setOpenModal:n,editingBlog:f,setEditingBlog:a}=A(),{blogs:j,addBlog:w,updateBlog:v,refreshBlogs:h}=I();B.useEffect(()=>{h(),x(c)},[t,o]);const y=e=>{f?(v(e),u("Blog updated","success")):(w(e),u("Blog created","success")),n(!1),a(void 0),h()},l=j.filter(e=>o==="your"?e.authorId===i?.id:o==="favorites"?e.isFavorite&&e.authorId!==i?.id:!0).filter(e=>t.trim()?e.title.toLowerCase().includes(t.toLowerCase())||e.content.toLowerCase().includes(t.toLowerCase())||e.category.toLowerCase().includes(t.toLowerCase()):!0),E=l.slice(0,g),L=g<l.length;return s.jsxs(d,{sx:{width:"100%",maxWidth:1200,mx:"auto",px:2,mt:3},children:[s.jsx(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(m,{variant:"h5",children:"Recently Added Blogs"})}),l.length===0?s.jsx(m,{children:"No blogs found."}):s.jsxs(s.Fragment,{children:[s.jsx(p,{container:!0,spacing:3,children:E.map(e=>s.jsx(p,{size:{xs:12,sm:r==="grid"?6:12,md:r==="grid"?4:12},children:s.jsx(O,{blog:e,viewMode:r,showEditButtons:o==="your",onEditClick:M=>{a(M),n(!0)}})},e.id))}),L&&s.jsx(d,{display:"flex",justifyContent:"center",mt:3,children:s.jsx(R,{variant:"outlined",onClick:()=>x(e=>e+c),children:"Load More"})})]}),i&&s.jsx(P,{open:C,onClose:()=>{n(!1),a(void 0)},onSave:y,initialBlog:f})]})};export{z as default};
