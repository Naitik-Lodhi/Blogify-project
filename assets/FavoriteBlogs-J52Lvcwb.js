import{b as m,r as d,a as j,f as B,j as e,B as v,T as f,g as F}from"./index-DpcyShyN.js";import{G as g,B as C}from"./BlogCard-BnoFuQqs.js";const S=()=>{const{user:r}=m(),[s,i]=d.useState([]),n=`favorites_${r?.id}`;d.useEffect(()=>{if(!r)return i([]);const t=localStorage.getItem(n);i(t?JSON.parse(t):[])},[r]);const c=t=>{localStorage.setItem(n,JSON.stringify(t)),i(t)},l=t=>{if(s.includes(t))return;const x=[...s,t];c(x)},a=t=>{const x=s.filter(p=>p!==t);c(x)},u=t=>{s.includes(t)?a(t):l(t),console.log("Favorites updated:",t)},o=d.useCallback(t=>s.includes(t),[s]);return{favoriteIds:s,addFavorite:l,removeFavorite:a,toggleFavorite:u,isFavorite:o}},h=6,w=()=>{const{view:r}=j(),[s,i]=d.useState(h),{blogs:n}=B(),{user:c}=m(),{favoriteIds:l}=S(),a=n.filter(o=>o.isFavorite&&o.authorId!==c?.id),u=s<a.length;return e.jsxs(v,{sx:{maxWidth:1200,mx:"auto",px:2,mt:4},children:[e.jsx(f,{variant:"h5",mb:2,children:"Favorite Blogs"}),a.length===0?e.jsx(f,{children:"No favorite blogs yet."}):e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(g,{container:!0,spacing:3,children:a.map(o=>e.jsx(g,{size:{xs:12,sm:r==="grid"?6:12,md:r==="grid"?4:12},children:e.jsx(C,{blog:o,viewMode:r,showEditButtons:!1})},o.id))})},l.join("-")),u&&e.jsx(v,{display:"flex",justifyContent:"center",mt:3,children:e.jsx(F,{variant:"outlined",onClick:()=>i(o=>o+h),children:"Load More"})})]})]})};export{w as default};
