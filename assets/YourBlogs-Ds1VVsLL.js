import{b as M,a as y,r as b,e as w,f as d,d as G,j as s,B as c,T as u,g as S}from"./index-usQaeIIn.js";import{G as g,B as k}from"./BlogCard-BjPdS4ka.js";import{B as A}from"./BlogModal-lLDIxTRS.js";import"./MenuItem-Bs2WFw6a.js";const x=6,R=()=>{const{user:i}=M(),{view:o}=y(),[B,h]=b.useState(x),{openModal:m,setOpenModal:t,editingBlog:r,setEditingBlog:a}=w(),{addBlog:p,updateBlog:j}=d(),{showMessage:l}=G(),{blogs:f}=d(),n=f.filter(e=>e.authorId===i?.id),C=B<n.length,v=e=>{r?(j(e),l("Blog updated","success")):(p(e),l("Blog created","success")),t(!1),a(void 0)};return s.jsxs(c,{sx:{maxWidth:1200,mx:"auto",px:2,mt:4},children:[s.jsx(u,{variant:"h5",mb:2,children:"Your Blogs"}),n.length===0?s.jsx(u,{children:"No blogs created yet."}):s.jsxs(s.Fragment,{children:[s.jsx(g,{container:!0,spacing:3,children:n.map(e=>s.jsx(g,{size:{xs:12,sm:o==="grid"?6:12,md:o==="grid"?4:12},children:s.jsx(k,{blog:e,viewMode:o,showEditButtons:!0,onEditClick:E=>{a(E),t(!0)}})},e.id))}),C&&s.jsx(c,{display:"flex",justifyContent:"center",mt:3,children:s.jsx(S,{variant:"outlined",onClick:()=>h(e=>e+x),children:"Load More"})})]}),i&&s.jsx(A,{open:m,onClose:()=>{t(!1),a(void 0)},onSave:v,initialBlog:r})]})};export{R as default};
