import{C as ve,D as we,r as f,E as ke,j as a,q as S,F as De,G as Me,t as k,m as D,H as je,l as P,n as M,s as C,P as ne,J as le,K as re,M as $e,N as O,O as T,Q as Pe,R as Re,x as ce,T as K,U as de,b as Te,d as We,f as Ne,V as Ge,B as oe,W as Be,X as Ae,g as _}from"./index-BRzEqNp5.js";const Fe=(e,t)=>e.filter(o=>t.includes(o)),N=(e,t,o)=>{const s=e.keys[0];Array.isArray(t)?t.forEach((n,r)=>{o((l,i)=>{r<=e.keys.length-1&&(r===0?Object.assign(l,i):l[e.up(e.keys[r])]=i)},n)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:Fe(e.keys,Object.keys(t))).forEach(r=>{if(e.keys.includes(r)){const l=t[r];l!==void 0&&o((i,c)=>{s===r?Object.assign(i,c):i[e.up(r)]=c},l)}}):(typeof t=="number"||typeof t=="string")&&o((n,r)=>{Object.assign(n,r)},t)};function Y(e){return`--Grid-${e}Spacing`}function X(e){return`--Grid-parent-${e}Spacing`}const ae="--Grid-columns",W="--Grid-parent-columns",Ee=({theme:e,ownerState:t})=>{const o={};return N(e.breakpoints,t.size,(s,n)=>{let r={};n==="grow"&&(r={flexBasis:0,flexGrow:1,maxWidth:"100%"}),n==="auto"&&(r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof n=="number"&&(r={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${n} / var(${W}) - (var(${W}) - ${n}) * (var(${X("column")}) / var(${W})))`}),s(o,r)}),o},Ie=({theme:e,ownerState:t})=>{const o={};return N(e.breakpoints,t.offset,(s,n)=>{let r={};n==="auto"&&(r={marginLeft:"auto"}),typeof n=="number"&&(r={marginLeft:n===0?"0px":`calc(100% * ${n} / var(${W}) + var(${X("column")}) * ${n} / var(${W}))`}),s(o,r)}),o},Oe=({theme:e,ownerState:t})=>{if(!t.container)return{};const o={[ae]:12};return N(e.breakpoints,t.columns,(s,n)=>{const r=n??12;s(o,{[ae]:r,"> *":{[W]:r}})}),o},Ue=({theme:e,ownerState:t})=>{if(!t.container)return{};const o={};return N(e.breakpoints,t.rowSpacing,(s,n)=>{const r=typeof n=="string"?n:e.spacing?.(n);s(o,{[Y("row")]:r,"> *":{[X("row")]:r}})}),o},ze=({theme:e,ownerState:t})=>{if(!t.container)return{};const o={};return N(e.breakpoints,t.columnSpacing,(s,n)=>{const r=typeof n=="string"?n:e.spacing?.(n);s(o,{[Y("column")]:r,"> *":{[X("column")]:r}})}),o},Le=({theme:e,ownerState:t})=>{if(!t.container)return{};const o={};return N(e.breakpoints,t.direction,(s,n)=>{s(o,{flexDirection:n})}),o},_e=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${Y("row")}) var(${Y("column")})`}}),Ke=e=>{const t=[];return Object.entries(e).forEach(([o,s])=>{s!==!1&&s!==void 0&&t.push(`grid-${o}-${String(s)}`)}),t},Ye=(e,t="xs")=>{function o(s){return s===void 0?!1:typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"&&s>0}if(o(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const s=[];return Object.entries(e).forEach(([n,r])=>{o(r)&&s.push(`spacing-${n}-${String(r)}`)}),s}return[]},Xe=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,o])=>`direction-${t}-${o}`):[`direction-xs-${String(e)}`];function He(e,t){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,t.keys.forEach(o=>{e[o]!==void 0&&delete e[o]})}const Je=je(),qe=ve("div",{name:"MuiGrid",slot:"Root"});function Ve(e){return Me({props:e,name:"MuiGrid",defaultTheme:Je})}function Qe(e={}){const{createStyledComponent:t=qe,useThemeProps:o=Ve,useTheme:s=we,componentName:n="MuiGrid"}=e,r=(u,m)=>{const{container:x,direction:d,spacing:g,wrap:p,size:j}=u,$={root:["root",x&&"container",p!=="wrap"&&`wrap-xs-${String(p)}`,...Xe(d),...Ke(j),...x?Ye(g,m.breakpoints.keys[0]):[]]};return k($,h=>D(n,h),{})};function l(u,m,x=()=>!0){const d={};return u===null||(Array.isArray(u)?u.forEach((g,p)=>{g!==null&&x(g)&&m.keys[p]&&(d[m.keys[p]]=g)}):typeof u=="object"?Object.keys(u).forEach(g=>{const p=u[g];p!=null&&x(p)&&(d[g]=p)}):d[m.keys[0]]=u),d}const i=t(Oe,ze,Ue,Ee,Le,_e,Ie),c=f.forwardRef(function(m,x){const d=s(),g=o(m),p=ke(g);He(p,d.breakpoints);const{className:j,children:$,columns:h=12,container:b=!1,component:R="div",direction:H="row",wrap:U="wrap",size:J={},offset:q={},spacing:G=0,rowSpacing:V=G,columnSpacing:z=G,unstable_level:v=0,...Q}=p,w=l(J,d.breakpoints,y=>y!==!1),B=l(q,d.breakpoints),A=m.columns??(v?void 0:h),Z=m.spacing??(v?void 0:G),ee=m.rowSpacing??m.spacing??(v?void 0:V),F=m.columnSpacing??m.spacing??(v?void 0:z),L={...p,level:v,columns:A,container:b,direction:H,wrap:U,spacing:Z,rowSpacing:ee,columnSpacing:F,size:w,offset:B},te=r(L,d);return a.jsx(i,{ref:x,as:R,ownerState:L,className:S(te.root,j),...Q,children:f.Children.map($,y=>f.isValidElement(y)&&De(y,["Grid"])&&b&&y.props.container?f.cloneElement(y,{unstable_level:y.props?.unstable_level??v+1}):y)})});return c.muiName="Grid",c}function Ze(e){return D("MuiCard",e)}P("MuiCard",["root"]);const et=e=>{const{classes:t}=e;return k({root:["root"]},Ze,t)},tt=C(ne,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),ot=f.forwardRef(function(t,o){const s=M({props:t,name:"MuiCard"}),{className:n,raised:r=!1,...l}=s,i={...s,raised:r},c=et(i);return a.jsx(tt,{className:S(c.root,n),elevation:r?8:void 0,ref:o,ownerState:i,...l})});function st(e){return D("MuiCardContent",e)}P("MuiCardContent",["root"]);const nt=e=>{const{classes:t}=e;return k({root:["root"]},st,t)},rt=C("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),at=f.forwardRef(function(t,o){const s=M({props:t,name:"MuiCardContent"}),{className:n,component:r="div",...l}=s,i={...s,component:r},c=nt(i);return a.jsx(rt,{as:r,className:S(c.root,n),ownerState:i,ref:o,...l})});function it(e){return D("MuiCardMedia",e)}P("MuiCardMedia",["root","media","img"]);const lt=e=>{const{classes:t,isMediaComponent:o,isImageComponent:s}=e;return k({root:["root",o&&"media",s&&"img"]},it,t)},ct=C("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{isMediaComponent:s,isImageComponent:n}=o;return[t.root,s&&t.media,n&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),dt=["video","audio","picture","iframe","img"],pt=["picture","img"],ut=f.forwardRef(function(t,o){const s=M({props:t,name:"MuiCardMedia"}),{children:n,className:r,component:l="div",image:i,src:c,style:u,...m}=s,x=dt.includes(l),d=!x&&i?{backgroundImage:`url("${i}")`,...u}:u,g={...s,component:l,isMediaComponent:x,isImageComponent:pt.includes(l)},p=lt(g);return a.jsx(ct,{className:S(p.root,r),as:l,role:!x&&i?"img":void 0,ref:o,style:d,ownerState:g,src:x?i||c:void 0,...m,children:n})});function mt(e){return D("MuiDialog",e)}const se=P("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),pe=f.createContext({}),ft=C(Re,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),gt=e=>{const{classes:t,scroll:o,maxWidth:s,fullWidth:n,fullScreen:r}=e,l={root:["root"],container:["container",`scroll${T(o)}`],paper:["paper",`paperScroll${T(o)}`,`paperWidth${T(String(s))}`,n&&"paperFullWidth",r&&"paperFullScreen"]};return k(l,mt,t)},xt=C(Pe,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),ht=C("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.container,t[`scroll${T(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Ct=C(ne,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`scrollPaper${T(o.scroll)}`],t[`paperWidth${T(String(o.maxWidth))}`],o.fullWidth&&t.paperFullWidth,o.fullScreen&&t.paperFullScreen]}})(ce(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${se.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${se.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${se.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),yt=f.forwardRef(function(t,o){const s=M({props:t,name:"MuiDialog"}),n=le(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":i,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:m,children:x,className:d,disableEscapeKeyDown:g=!1,fullScreen:p=!1,fullWidth:j=!1,maxWidth:$="sm",onClick:h,onClose:b,open:R,PaperComponent:H=ne,PaperProps:U={},scroll:J="paper",slots:q={},slotProps:G={},TransitionComponent:V=re,transitionDuration:z=r,TransitionProps:v,...Q}=s,w={...s,disableEscapeKeyDown:g,fullScreen:p,fullWidth:j,maxWidth:$,scroll:J},B=gt(w),A=f.useRef(),Z=I=>{A.current=I.target===I.currentTarget},ee=I=>{h&&h(I),A.current&&(A.current=null,b&&b(I,"backdropClick"))},F=$e(i),L=f.useMemo(()=>({titleId:F}),[F]),te={transition:V,...q},y={transition:v,paper:U,backdrop:m,...G},E={slots:te,slotProps:y},[ue,me]=O("root",{elementType:xt,shouldForwardComponentProp:!0,externalForwardedProps:E,ownerState:w,className:S(B.root,d),ref:o}),[fe,ge]=O("backdrop",{elementType:ft,shouldForwardComponentProp:!0,externalForwardedProps:E,ownerState:w}),[xe,he]=O("paper",{elementType:Ct,shouldForwardComponentProp:!0,externalForwardedProps:E,ownerState:w,className:S(B.paper,U.className)}),[Ce,ye]=O("container",{elementType:ht,externalForwardedProps:E,ownerState:w,className:B.container}),[Se,be]=O("transition",{elementType:re,externalForwardedProps:E,ownerState:w,additionalProps:{appear:!0,in:R,timeout:z,role:"presentation"}});return a.jsx(ue,{closeAfterTransition:!0,slots:{backdrop:fe},slotProps:{backdrop:{transitionDuration:z,as:u,...ge}},disableEscapeKeyDown:g,onClose:b,open:R,onClick:ee,...me,...Q,children:a.jsx(Se,{...be,children:a.jsx(Ce,{onMouseDown:Z,...ye,children:a.jsx(xe,{as:H,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":F,"aria-modal":c,...he,children:a.jsx(pe.Provider,{value:L,children:x})})})})})});function St(e){return D("MuiDialogActions",e)}P("MuiDialogActions",["root","spacing"]);const bt=e=>{const{classes:t,disableSpacing:o}=e;return k({root:["root",!o&&"spacing"]},St,t)},vt=C("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),wt=f.forwardRef(function(t,o){const s=M({props:t,name:"MuiDialogActions"}),{className:n,disableSpacing:r=!1,...l}=s,i={...s,disableSpacing:r},c=bt(i);return a.jsx(vt,{className:S(c.root,n),ownerState:i,ref:o,...l})});function kt(e){return D("MuiDialogContent",e)}P("MuiDialogContent",["root","dividers"]);function Dt(e){return D("MuiDialogTitle",e)}const Mt=P("MuiDialogTitle",["root"]),jt=e=>{const{classes:t,dividers:o}=e;return k({root:["root",o&&"dividers"]},kt,t)},$t=C("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dividers&&t.dividers]}})(ce(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Mt.root} + &`]:{paddingTop:0}}}]}))),Pt=f.forwardRef(function(t,o){const s=M({props:t,name:"MuiDialogContent"}),{className:n,dividers:r=!1,...l}=s,i={...s,dividers:r},c=jt(i);return a.jsx($t,{className:S(c.root,n),ownerState:i,ref:o,...l})}),Rt=e=>{const{classes:t}=e;return k({root:["root"]},Dt,t)},Tt=C(K,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Wt=f.forwardRef(function(t,o){const s=M({props:t,name:"MuiDialogTitle"}),{className:n,id:r,...l}=s,i=s,c=Rt(i),{titleId:u=r}=f.useContext(pe);return a.jsx(Tt,{component:"h2",className:S(c.root,n),ownerState:i,ref:o,variant:"h6",id:r??u,...l})}),At=Qe({createStyledComponent:C("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>M({props:e,name:"MuiGrid"}),useTheme:le}),Nt=de(a.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),Gt=de(a.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"})),ie="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSUwCJYSnbBLMEGWKfSnWRGC_34iCCKkxePpg&s",Ft=({blog:e,viewMode:t="grid",onEditClick:o,showEditButtons:s=!1})=>{const{user:n}=Te(),r=n?.id===e.authorId,[l,i]=f.useState(""),[c,u]=f.useState(e.image||ie),{showMessage:m}=We(),[x,d]=f.useState(!1),{toggleFavorite:g}=Ne();f.useEffect(()=>{const b=JSON.parse(localStorage.getItem("users")||"[]").find(R=>R.id===e.authorId);i(b?.name||"Unknown Author")},[e.authorId]);const p=h=>{h.preventDefault(),g(e.id)},j=h=>{h.preventDefault()},$=()=>{d(!1),m("Blog deleted","success")};return a.jsxs(a.Fragment,{children:[a.jsxs(ot,{component:Ge,to:`/blog/${e.id}`,sx:{textDecoration:"none",display:t==="list"?"flex":"block",flexDirection:t==="list"?"row":"column",height:t==="list"?"250px":"auto",width:"100%",borderRadius:2,overflow:"hidden",boxShadow:3,"&:hover":{boxShadow:6},transition:"box-shadow 0.3s ease-in-out"},children:[a.jsx(ut,{component:"img",image:c,alt:e.title,onError:()=>u(ie),sx:{height:"250px",width:t==="list"?"300px":"100%",objectFit:"cover",flexShrink:0}}),a.jsxs(at,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",p:2},children:[a.jsxs(oe,{children:[a.jsxs(oe,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[a.jsx(K,{variant:"h6",fontWeight:"bold",noWrap:!0,children:e.title}),n&&a.jsx(Be,{title:e.isFavorite?"Remove Favorite":"Add to Favorites",children:a.jsx(Ae,{onClick:p,color:"error",size:"small",children:e.isFavorite?a.jsx(Nt,{}):a.jsx(Gt,{})})})]}),a.jsxs(K,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["By ",a.jsx("strong",{children:l})," • ",e.category," •"," ",new Date(e.date).toLocaleDateString()]}),a.jsx(K,{variant:"body1",paragraph:!0,sx:{mt:1,display:"-webkit-box",WebkitLineClamp:t==="list"?3:5,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.content})]}),r&&s&&a.jsxs(oe,{mt:1,display:"flex",gap:1,flexWrap:"wrap",children:[a.jsx(_,{size:"small",variant:"outlined",color:"primary",onClick:h=>{h.preventDefault(),o?.(e)},children:"Edit"}),a.jsx(_,{size:"small",variant:"outlined",color:"error",onClick:j,children:"Delete"})]})]})]}),a.jsxs(yt,{open:x,onClose:()=>d(!1),children:[a.jsx(Wt,{children:"Delete Blog"}),a.jsx(Pt,{children:"Are you sure you want to delete this blog? This action cannot be undone."}),a.jsxs(wt,{children:[a.jsx(_,{onClick:()=>d(!1),children:"Cancel"}),a.jsx(_,{color:"error",onClick:$,autoFocus:!0,children:"Delete"})]})]})]})};export{Ft as B,yt as D,At as G,Wt as a,Pt as b,wt as c};
