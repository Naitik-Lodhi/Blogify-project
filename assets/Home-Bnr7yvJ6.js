import{u as M,a as S,b as F,c as G,d as b,r as h,e as k,f as A,j as s,B as d,T as B,g as I}from"./index-BRzEqNp5.js";import{G as m,B as R}from"./BlogCard-i9tsd9hT.js";import{B as O}from"./BlogModal-BYq-bYpQ.js";import"./MenuItem-BHO7Y05o.js";const c=6,q=()=>{const{query:t}=M(),{view:r}=S(),{user:i}=F(),{filter:o}=G(),{showMessage:u}=b(),[g,x]=h.useState(c),{openModal:p,setOpenModal:n,editingBlog:f,setEditingBlog:a}=k(),{blogs:C,addBlog:j,updateBlog:w}=A();h.useEffect(()=>{x(c)},[t,o]);const v=e=>{f?(w(e),u("Blog updated","success")):(j(e),u("Blog created","success")),n(!1),a(void 0)},l=C.filter(e=>o==="your"?e.authorId===i?.id:o==="favorites"?e.isFavorite&&e.authorId!==i?.id:!0).filter(e=>t.trim()?e.title.toLowerCase().includes(t.toLowerCase())||e.content.toLowerCase().includes(t.toLowerCase())||e.category.toLowerCase().includes(t.toLowerCase()):!0),y=l.slice(0,g),E=g<l.length;return s.jsxs(d,{sx:{width:"100%",maxWidth:1200,mx:"auto",px:2,mt:3},children:[s.jsx(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(B,{variant:"h5",children:"Recently Added Blogs"})}),l.length===0?s.jsx(B,{children:"No blogs found."}):s.jsxs(s.Fragment,{children:[s.jsx(m,{container:!0,spacing:3,children:y.map(e=>s.jsx(m,{size:{xs:12,sm:r==="grid"?6:12,md:r==="grid"?4:12},children:s.jsx(R,{blog:e,viewMode:r,showEditButtons:o==="your",onEditClick:L=>{a(L),n(!0)}})},e.id))}),E&&s.jsx(d,{display:"flex",justifyContent:"center",mt:3,children:s.jsx(I,{variant:"outlined",onClick:()=>x(e=>e+c),children:"Load More"})})]}),i&&s.jsx(O,{open:p,onClose:()=>{n(!1),a(void 0)},onSave:v,initialBlog:f})]})};export{q as default};
